-   메시지를 주고받고자 하는 대상을 파악하기 위해서는 IP 주소 이외에 도메인 네임을 사용할 수 있음

-   송수신하고자 하는 정보를 식별하기 위한 방법으로는 위치 기반의 식별자인 URL과 이름 기반의 식별자인 URN이 있음

## 도메인 네임과 네임 서버

**도메인 네임**

-   호스트의 IP 주소와 대응되는 문자열 형태의 호스트 특정 정보
-   www.example.com, developers.naver.com, git.kernel.org와 같은 문자열
-   IP 주소 == 전화번호, 도메인 네임 == 전화번호에 대응하는 사용자 이름
    ⇒ 사용자 이름: 전화번호 == 도메인 네임 와 IP 주소 는 네임 서버에서 관리(DNS서버)
-   도메인 네임은 기억하기 쉬움
-   IP주소가 바뀌더라도 도메인 네임을 다시 대응하여 IP주소만으로 호스트를 특정하는 것보다 더 간편함

**네임 서버 관리**

-   도메인 네임은 점(.)을 기준으로 계층적으로 분류
-   최상단에 루트 도메인, 그 다음 단계인 최상위 도메인, 그다음 단계의 도메인이 있는 식
-   최상위 도메인의 하부 도메인은 2단계 도메인 이라고 함 (세컨드 레벨 도메인)
    (ex)www.example.com 에서 - ‘example’ 2단계 도메인해당 - ‘www’는 3단계 도메인( 호스트 네임)
-   전체 주소 도메인 네임: 처음 도메인을 포함하는 도메인 네임

## 계층적 네임 서버

IP 주소를 모르는 상태에서 도메인 네임에 대응되는 IP주소를 알아내는 과정’을 흔히 ‘도메인 네임을 풀이 한다’라고 표현 (영어-리졸빙)

**네임 서버의 유형**

1. 로컬 네임서버
    - 클라이언트와 맞닿아 있는 네임 서버
    - 클라이언트가 도메인 네임을 통해 IP 주소를 알아내고자 할 때 가장 먼저 찾게 되는 네임 서버
    - 클라이언트가 로컬 네임 서버를 찾을 수 있으려면 로컬 네임 서버의 주소를 알고 있기
    - 일반적으로 ISP에서 할당해 주는 경우가 많음
    - ISP에서 할당해 주는 로컬 네임 서버 주소가 아닌, 공개 DNS서버를 이용할 수 있음
    - 대표적) 구글의 8.8.8.8, 8.8.4.4.와 클라우드플레어의 1.1.1.1
2. 루트 네임 서버
    - 루트 도메인을 관장하는 네임 서버
    - 질의에 대해 TLD 네임 서버의 IP주소를 반환할 수 있음
3. TLD(최상위 도메인) 네임 서버
    - TLD를 관리하는 네임 서버
    - TLD의 하위 도메인 네임을 관리하는 네임 서버 주소를 반환할 수 있음
    - 하위 도메인 네임을 관리하는 네임 서버는 마찬가지로 그보다 하위 도메인 네임을 관리하는 네임 서버 주소를 반환
4. 책임 네임 서버
    - 특정 도메인 영역을 관리하는 네임 서버
    - 자신이 관리하는 도메인 영역의 질의에 대해서는 다른 네임 서버에서 떠넘기지 않고 곧바로 답할 수 있는 네임 서버
    - 책임 네임 서버는 로컬 네임 서버가 마지막으로 질의하는 네임 서버
    - 로컬 네임 서버는 책임 네임 서버로부터 원하는 IP주소를 얻어냄
    - 루트 도메인을 관리하는 루트 네임 서버부터 TLD를 관리하는 TLD네임 서버, 최종 IP주소를 답해 주는 책임 네임 서버 이르가까지, 네임 서버들은 계층적인 구조를 띠고 있음

**도메인 네임을 리졸빙하는 과정** (IP주소를 알아내는 과정)

**재귀적 질의**

클라이언트 → 로컬 네임 서버에게 도메인 네임을 질의 → 루트 네임 서버에게 질의 → TLD네임서버 질이 → 다음 단계에 질의하는 과정을 반복

**반복적 정의**

클라이언트 → 로컬 네임 서버에게 IP주소를 알고 싶은 → 도메인 네임 질의 → 로컬 네임 서버 → 루트 도메인 서버 질의 →질의할 네임 서버의 주소를 응답받는 과정을 반복하다가 최종 응답 결과를 클라이언트에게 알려 주는 방식

**DNS캐시**

-   실제로 네임 서버들이 기존에 응답받으 ㄴ결과를 임시로 저장했다가 추후 같은 질의에 이를 활용하는 경우가 많음
-   DNS캐시를 저장하는 용도로만 사용되는 서버
-   DNS 캐시를 활용하면 더 짧은 시간 안에 원하는 IP주소를 얻어낼 수 있음
-   임시 저장된 값은 TTL이라는 값과 함께 저장 (이 값은 캐시될 수 있는 시간을 뜻함)

## 자원을 식별하는 URI

**자원**

-   네트워크상의 메시지를 통해 주고받는 대상을 의미
-   HTML파일, 이미지, 동영상 파일, 텍스트 파일 등
-   두 호스트가 네트워크를 통해 서로 정보를 주고받을 때, 송수신하는 대상

**URI** : 네트워크상에서 자원을 주고받으려면 자원을 식별할 수 있는 정보

**URL** : 위치를 이용해 자원을 식별

1. scheme

-   첫 부분
-   자원에 접근하는 방법

2. authority

-   호스트를 특정할 수 있는 정보
-   IP주소, 도메인 네임이 명시됨
-   콜론(:)뒤에 포트 번호를 덧붙일 수 있음

3. path

-   자원이 위치한 경로
-   자원의 위치는 슬래스(/)를 기준으로 계층적으로 표현
-   최상위 경로 또한 슬래시로 표현

4. query

-   HTTP는 요청-응답 기반의 프로토콜
-   클라이언트의 서버에게 URI(URL)가 포함된 HTTP요청 메시지를 보내고, HTTP서버는 이에 대해 HTTP 응답 메시지를 보냄

쿼리 문자열(쿼리 파라미터)

-   물음표(?)로 시작되는 <키=값>형태의 데이터, 앰퍼샌드(&)로 여러 쿼리 문자열을 연결

5. fragment

-   자원의 한 조각을 가리키기 위한 정보
-   HTML파일과 같은 자원에서 특정 부분을 가리키기 위해 사용

**URN** : 이름을 이용해 자원을 식별할 수 있음

URL은 위치를 기반으로 자원을 식별, 자원의 위치는 언제든 변할 수 있음 ⇒ URL은 유효해지지 않을 수 있음, 자원의 위치가 변경되면 기존 URL로는 자원을 식별할 수 없고 이것은 문제
URN은 자원에 고유한 이름을 붙이는 이름 기반 식별자이기에 자원의 위치와 무관하게 자원을 식별할 수 있다는 장점이 있음
프로토콜과 무관하게 자원을 식별할 수 있음
다만 URL만큼 널리 채택된 방식은 아니기에 자원을 식별할 URI로는 URN보다는 URL이 더 많이 사용됨

## [ 좀 더 알아보기 ] DNS 레코드 타임

-   네임 서버는 DNS 자원 레코드 정보를 저장하고 관리함
-   레코드는 도메인 네임을 귑한 뒤, 웹 사이트에 도메인 네임을 적용시킬 때 자주 접하게 됨
-   네임 서버에게 알리기 위해 도메인 레코드를 추가해야 함
