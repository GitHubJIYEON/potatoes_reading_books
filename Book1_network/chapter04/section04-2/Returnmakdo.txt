TCP
  신뢰할 수 있는 통신을 위한 연결형 프로토콜

  통신 단계와 세그먼트 구조
    통신단계: 연결 수립 - 데이터 송수신 - 연결 종료
    데이터 송수신 과정에서 재전송을 통한 오류 제어, 흐름 제어 및 혼합 제어 등의 기능을 제공한다.

    TCP의 연결 수립과 종료의 이해를 위해 MSS라는 단위와 TCP세그먼트 구조를 알아야 한다.
    MSS는 TCP로 전송할 수 있는 최대 페이로드 크기를 의미한다.
    
    TCP세그먼트 구조
      송신지 포트/수신지 포트: 송신지 또는 수신지 애플리케이션을 식별하는 포트 번호가 명시되는 필드
      순서 번호: 송수신되는 세그먼트의 올바른 순서를 보장하기 위해 세그먼트 데이터의 첫 바이트에 부여되는 번호가 명시되는 필드
      확인 응답 번호: 상대 호스트가 보낸 세그먼트에 대한 응답으로, 다음으로 수신하기를 기대하는 순서 번호가 명시된다.
      제어 비트: 플래그 비트라고도 불리고, 현재 세그먼트에 대한 부가정보를 나타낸다.
      윈도우: 한번에 수신하고자 하느 데이터의 양(수신 윈도우)의 크기가 명시된다.

      이번 절에서 중요한 순서번호 필드, 응답번호 필드, 제어비트를 알아야 한다.

      제어 비트
        기본적으로 8비트로 구성된다. TCP의 기본 동작을 논할 때 가장 자주 언급되는 세 개의 제어비트는
        ACK: 세그먼트의 승인을 나타내기 위한 비트
        SYN: 연결을 수립하기 위한 비트
        FIN: 연결을 종료하기 위한 비트
      
      순서 번호와 확인 응답 번호
        TCP의 신뢰성을 보장하기 위해 사용되는 중요한 필드이다.
        
        순서 번호
          처음 통신을 위해 연결을 수립한 경우, 제어 비트에서 연결을 수립하기 위한 비트인 SYN플래그가 1로 설정된
          세그먼트의 경우 순서 번호는 무작위 값이 되는데, 이르 초기 순서 번호라고 한다.
          연결 수립 이후 데이터를 송신하는 동안 순서번호는 송신한 바이트를 더해 가는 형태로 누적값을  가진다.
        
        확인 응답 번호
          일반적으로 수신한 순서 번호+1로 설정된다.
          확인 응답 번호 값을 보내기 위해서는 제어비트에서 승인을 나타내는 비트인 ACK플래그를 1로 설정해야 한다.
      
      TCP 연결수립과 종료
        연결수립(3way handshake)
          세 개의 단계로 이루어진 TCP의 연결수립과정을 의미한다.
          이때 처음 연결을 시작하는 호스트의 연결 수립 과정을 액티브 오픈이라 한다.
          반대로 연결요청을 받고나서 요청에 따라 연결을 수립해주는 호스트도 있는데, 
          이 호스트의 연결 수립 과정을 패시브 오픈이라고 한다.
        
        연결종료
          송수신 호스트가 각자 한 번씩 FIN과 ACK를 주고받으며 이루어진다.
          액티브 오픈, 패시브 오픈처럼 액티브 클로즈, 패시브 클로즈가 있다.
  
  TCP 상태 
    현재 어떤 통신 과정에 있는지를 나타내는 정보이다.
    TCP는 상태를 유지하고 활용한다는 점에서 스테이트풀 프로토콜이라고도 부른다.

    연결이 수립되지 않은 상태
      CLOSED: 아무 연결이 없는 상태
      LISTEN: 연결 대기 상태
    
    연결 수립 상태
      SYN-SEND: 액티브 오픈 호스트가 SYN세그먼트를 보낸뒤 그에 대한 응답인 SYN+ACK세그먼트를 기다리는 상태이다.
      SYN-RECEIVED: 패시브 오픈 호스트가 SYN+ACK 세그먼트를 보낸 뒤 그에대한 ACK세그먼트를 기다리는 상태
      ESTABLISHED: 연결이 확립되었음을 나타내는 상태.(데이터를 송수신할 수 있는 상태)
    
    연결 종료 상태
      FIN-WAIT-1: 연결 종료의 첫 단계이다.
      CLOSE-WAIT: FIN 세그먼트를 받은 패시브 클로즈 호스트가 그에 대한 응답으로 ACK세그먼트를 보낸 후 대기하는 상태
      FIN-WAIT-2: 상대 호스트의 FIN세그먼트를 기다리는 상태
      LAST-ACK: FIN세그먼트를 전송한 뒤에 이에 대한 ACK세그먼트를 기다리는 상태
      TIME-WAIT: 액티브 클로즈 호스트가 FIN 세그먼트를 수신한 뒤 이에 대한 ACK 세그먼트를 전송 한뒤 접어드는 상태

UDP
  TCP보다는 신뢰성이 떨어지지만 비교적 빠른 통신이 가능한 비연결형 프로토콜

  UDP 데이터그램 구조
    송신지/수신지 포트: 송수신지의 포트 번호가 담긴다.
    길이: 헤더를 포함한 UDP 데이터그램 바이트가 담긴다.
    체크섬 필드: 데이터그램 전송과정에서 오류 발생이 발생했는지 검사하기 위한 필드이다.
                  수신지는 이 필드의 값을 토대로 데이터그램의 정보가 훼손되었는지를 판단하고, 문제가 있다고 판단한
                  데이터그램은 폐기한다.
  
  UDP는 TCP에 비해 적은 오버헤드로 패킷을 빠르게 처리할 수 있기 때문에, 실시간 스트리밍서비스나 인터넷 전화처럼
  실시간성이 강조되는 상황에서 더 많이 쓰인다.