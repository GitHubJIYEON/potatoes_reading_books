라우팅
    패킷이 이동할 최적의 경로를 설정한 뒤 해당 경로로 패킷을 이동시키는 것을 말한다.

    라우터
        네트워크 계층의 핵심 기능을 담당한다.
        멀리 떨어져 있는 호스트간의 통신 과정에서 패킷은 서로에게 도달하기까지 여러 라우터를 거쳐서 다양한 경로로 이동할 수 있다.
        이처럼 라우터 도중 패킷이 호스트와 라우터간에, 혹은 라우터와 라우터 간에 이동하는 하나의 과정을 홉이라고 부른다.

    라우팅 테이블
        라우팅의 핵심은 라우터가 저장하고 관리하는 라우팅 테이블이다.
        라우팅 테이블은 특정 수신지까지 도달하기 위한 정보를 명시한 일종의 표와 같은 정보이다.
        라우터는 라우팅 테이블을 참고하여 수신지까지의 도달 경로를 판단한다.

        라우팅 테이블에 포함된 정보는 라우팅 방식에 따라 호스트의 환경에 따라 달라질 수 있다.
        하지만 공통적인 정보이자 핵심적인 정보로는 수신지 IP주소와 서브넷 마스크, 다음 홉이 있고, 이외에도
        라우팅 테이블에 명시되는 대표적인 정보로 네트워크 인터페이스와 메트릭이 있다.

        수신지IP주소 / 서브넷 마스크 : 최종적으로 패킷을 전달할 대상을 의미한다.
        다음 홉 : 최종 수신지까지 가기 위해 다음으로 거쳐야할 호스트의 IP주소나 인터페이스를 의미하고 게이트웨이라고 명시되기도 한다.
        네트워크 인터페이스 : 패킷을 내보낼 통로이다.
        메트릭 : 해당 경로로 이동하는데 드는 비용을 말한다.

        라우팅테이블에 없는 경로로 패킷을 전송해야 할 때가 있는데, 이 경우 기본적으로 패킷을 내보낼 경로를 설정하여 해당 경로로 패킷을 내보낼 수 있는데,
        이 기본 경로를 디폴트 라우트라고 한다.

    정적 라우팅
        사용자가 수동으로 직접 채워 넣은 라우팅 테이블의 항목을 토대로 라우팅되는 방식이다.
    
    동적 라우팅
        자동으로 라우팅 테이블을 만들고, 이를 이용하여 라우팅하는 방식을 의미한다. 이러한 이유로 동적 라우팅을 하게되면 테이블 항목이 수시로 변할 수 있다.
        네트워크 경로상에 문제가 생겼을 때 이를 우회할 수 있게 경로가 자동으로 갱신되기도 한다.

        모든 라우터는 특정 수신지까지 도달하기 위한 최적의 경로를 찾아 라우팅 테이블에 추가하려 노력하는데, 이를 위해 라우터 끼리 서로 자신의 정보를 교환하게 된다.
        이 과정에서 사용되는 프로토콜이 바로 동적 라우팅 프로토콜이다.
    
    라우팅 프로토콜
        라우터끼리 자신들의 정보를 교환하며 패킷이 이동할 최적의 경로를 찾기 위한 프로토콜이다.'
        AS내부에서 수행되느냐 AS외부에서 수행되느냐에 따라 종류를 나눌 수 있다.
        전자를 IGP, 후자를 EGP라고한다.
        대표적인 IGP로는 RIP, OSPF가 있고 EGP로는 BGP가 있다.

        IGP: RIP와 OSPF
            이 프로토콜들은 최적의 경로를 선정하는 과정에서 거리벡터가 사용되느냐 링크 상태가 사용되느냐로 구분할 수 있다.
            RIP는 거리 벡터, OSPF는 링크 상태를 사용하는 라우팅 프로토콜이다.

            RIP
                거리 벡터 라우팅 브로토콜이란, 이름 그대로 거리를 기반으로 최적의 경로를 찾는 라우팅 프로토콜을 의미한다.
                여기서 거리란 패킷이 경유한 라우터(홉)의 수를 의미한다.
                인접한 라우터끼리 경로정보를 주기적으로 교환하며 라우팅 테이블을 갱신한다. 이를 통해 라우터는 특정 수신지에 도달하기까지의 홉 수를 알 수 있다.

            OSPF
                링크 정보를 비롯한 현재 네트워크의 상태를 그래프의 형태로 링크상태 데이터베이스에 저장한다.
                링크상태 데이터베이스에는 라우터들의 연결관계, 연결비용 등 현재 네트워크의 상태를 그래프로 표현하기 위한 데이터가 저장되어 있다.
                최적의 경로를 결정하기 위해 대역폭을 기반으로 메트릭을 계산하고, 라우터 간에 경로정보를 주기적으로 교환하며 라우팅 테이블을 갱신하는 RIP와 달리
                네트워크의 구성이 변경되었을 때 라우팅 테이블이 갱신된다. 하지만 이렇게 된다면 네트워크의 규모가 매우 커졌을 때는 링크상태 데이터베이스에 모든 정보를저장하기 어렵다.
                이에 OSPF는 AS를 에어리어 라는 단위로 나누고 구분된 에어리어 내에서만 링크상태를 공유하고 에어리어 경계에 있는 ABR이라는 라우터가 에어리어간의 연결을 담당한다.

        EGP: BGP
            AS간의 통신에서 사용되는 대표적인 프로토콜로, AS간의 통신이 가능한 프로토콜이다.
            
            AS간의 통신을 위한 BGP는 eBGP
            AS내의 통신을 위한 BGP는 iBGP

            BGP메시지를 주고받을 수 있도록 연결된 BGP라우터를 피어라고 정의하고 이렇게 피어관게가 되도록 연결되는 과정을 피어링이라고 한다.
            BGP의 속성이란 경로에 대한 일종의 부가 정보이다. 대표적인 속성으로는 AS-PATH, NEXT-HOP, LOCAL-PREF 가 있다.

            AS-PATH
                메시지가 수신지에 이르는 과정을 통과하는 AS들의 목록을 의미한다.
                1. BGP는 AS간 라우팅을 할 때 거치게 될 라우터의 수가 아닌 AS의 수를 고려한다.
                2. BGP는 RIP처럼 단순히 수신지에 이르는 거리가 아닌 메시지가 어디를 거쳐 어디로 이동하는지를 나타내는 경로를 고려한다.
            
            NEXT-HOP
                다음으로 거칠 라우터의 IP주소를 나타낸다.
            
            LOCAL-PREF
                지역 선호도의 약자이다. AS외부경로에 있어 AS내부에서 어떤 경로를 선호할지에 대한 척도를 나타내는 속성이다.
                AS관리 주체가 설정하는 저책의 영향을 받는다. 기본적으로 설정되는 LOCAL-PREF값이 있기는 하지만,
                LOCAL-PREF값을 설정하여 AS 내 라우터끼리 특정 경로에 대한 선호도를 합의한다는 것은 정책적인 이유로 이 경로를 우선시 하겠다와 같은 말과도 같기 떄문이다.